<!-- Wrapper: full gradient background -->
<div
  class="min-h-screen bg-gradient-to-b from-[#e9f8fd] to-[#e9f1ff] flex flex-col justify-center"
>
  <div
    class="fixed top-6 left-6 right-6 z-50 flex items-center justify-between"
  >
    <!-- Wallet Connect Component - Left Side -->
    <app-wallet-connect></app-wallet-connect>

    <!-- Bookmarks Button - Right Side -->
    <a
      [routerLink]="['/bookmarks']"
      *ngIf="address"
      class="flex items-center gap-2 bg-white rounded-full shadow-lg px-4 py-2 hover:shadow-xl transition cursor-pointer"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-5 h-5 text-blue-600"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"
        />
      </svg>
      <span class="font-semibold text-gray-900 max-[430px]:hidden"
        >Bookmarks</span
      >
      <span
        *ngIf="bookmarkService.getBookmarksCount() > 0"
        class="bg-blue-600 text-white rounded-full px-2 py-0.5 text-xs font-bold min-w-[20px] text-center"
      >
        {{ bookmarkService.getBookmarksCount() }}
      </span>
    </a>
  </div>

  <!-- Section chính: chiếm 2/3 chiều cao -->
  <section class="flex flex-col justify-center h-[66vh] px-6">
    <div class="max-w-xl w-full mx-auto text-left">
      <!-- Title -->
      <h1
        class="text-4xl font-extrabold text-gray-900 mb-2 max-[430px]:text-3xl"
      >
        Web3 Identity Search
      </h1>
      <p class="text-gray-700 text-lg mb-6 max-[430px]:text-base">
        Dive into the Web3 Identity Graph and Profiles
      </p>

      <!-- Search Bar Component with Event Binding -->
      <app-search-bar-component
        [(searchQuery)]="currentSearchQuery"
        [isWalletConnected]="!!address"
        (search)="handleSearch($event)"
        (clear)="handleClear()"
        (connectWallet)="openConnectModal()"
      >
      </app-search-bar-component>

      <!-- Trending -->
      <div class="mt-6 text-sm text-gray-800 max-[430px]:text-xs">
        <span class="font-semibold">Trending:</span>
        <div class="flex flex-wrap gap-2 mt-2">
          <button
            (click)="handleSearch('vitalik.eth')"
            class="flex items-center gap-1 bg-white rounded-full shadow px-3 py-1 hover:shadow-md transition cursor-pointer"
          >
            <img src="assets/icons/ens.jpeg" class="w-4 h-4" alt="icon" />
            vitalik.eth
          </button>
          <button
            (click)="handleSearch('0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045')"
            class="flex items-center gap-1 bg-white rounded-full shadow px-3 py-1 hover:shadow-md transition cursor-pointer"
          >
            <img src="assets/icons/eth.png" class="w-4 h-4" alt="icon" />
            0xd8da...6045
          </button>
          <button
            (click)="handleSearch('dwr.eth')"
            class="flex items-center gap-1 bg-white rounded-full shadow px-3 py-1 hover:shadow-md transition cursor-pointer"
          >
            <img src="assets/icons/farcaster.webp" class="w-4 h-4" alt="icon" />
            dwr.eth
          </button>
          <button
            (click)="handleSearch('stani.lens')"
            class="flex items-center gap-1 bg-white rounded-full shadow px-3 py-1 hover:shadow-md transition cursor-pointer"
          >
            <img src="assets/icons/lens.jpg" class="w-4 h-4" alt="icon" />
            stani.lens
          </button>
          <button
            (click)="handleSearch('suji_yan')"
            class="flex items-center gap-1 bg-white rounded-full shadow px-3 py-1 hover:shadow-md transition cursor-pointer"
          >
            <img src="assets/icons/x.png" class="w-4 h-4" alt="icon" />
            suji_yan
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Search Results Component -->
  <app-search-results
    [identity]="(identityService.identity$ | async) || null"
    [loading]="(identityService.loading$ | async) || false"
    [error]="(identityService.error$ | async) || null"
    [isBookmarked]="isBookmarked.bind(this)"
    [isBookmarkPending]="isBookmarkPending.bind(this)"
    (toggleBookmark)="toggleBookmark($event.platform, $event.profile)"
  ></app-search-results>
</div>
